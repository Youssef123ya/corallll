{% extends "base.html" %}

{% block title %}Server Error - Coral Reef Health Guardian{% endblock %}

{% block content %}
<section class="py-5" style="min-height: 70vh; display: flex; align-items: center;">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-6">
                <div class="card shadow-lg">
                    <div class="card-body py-5">
                        <div class="mb-4">
                            <i class="fas fa-exclamation-triangle fa-5x text-warning"></i>
                        </div>
                        
                        <h1 class="display-1 fw-bold text-warning">500</h1>
                        
                        <h2 class="h3 mb-3">Ocean Storm Detected</h2>
                        
                        <p class="lead text-muted mb-4">
                            We're experiencing some rough waters on our servers. 
                            Our marine engineers are working to restore calm seas.
                        </p>
                        
                        <div class="alert alert-info" role="alert">
                            <i class="fas fa-info-circle"></i>
                            <strong>What happened?</strong> An unexpected error occurred while processing your request.
                            This has been automatically reported to our team.
                        </div>
                        
                        <div class="d-grid gap-2 d-md-flex justify-content-md-center mb-4">
                            <button onclick="location.reload()" class="btn btn-primary btn-lg">
                                <i class="fas fa-sync-alt"></i> Try Again
                            </button>
                            <a href="{{ url_for('home') }}" class="btn btn-outline-primary btn-lg">
                                <i class="fas fa-home"></i> Return Home
                            </a>
                        </div>
                        
                        <hr class="my-4">
                        
                        <div class="row">
                            <div class="col-12">
                                <h6 class="text-muted mb-3">Try these alternatives:</h6>
                            </div>
                        </div>
                        
                        <div class="row text-center">
                            <div class="col-4">
                                <a href="{{ url_for('dashboard') }}" class="text-decoration-none">
                                    <i class="fas fa-chart-line fa-2x text-secondary mb-2 d-block"></i>
                                    <small>Dashboard</small>
                                </a>
                            </div>
                            <div class="col-4">
                                <a href="{{ url_for('analysis') }}" class="text-decoration-none">
                                    <i class="fas fa-analytics fa-2x text-secondary mb-2 d-block"></i>
                                    <small>Analysis</small>
                                </a>
                            </div>
                            <div class="col-4">
                                <a href="/api/health" class="text-decoration-none" target="_blank">
                                    <i class="fas fa-heartbeat fa-2x text-secondary mb-2 d-block"></i>
                                    <small>System Status</small>
                                </a>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <small class="text-muted">
                                Error ID: <code id="error-id"></code><br>
                                Time: <span id="error-time"></span>
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
// Generate error ID and timestamp
document.addEventListener('DOMContentLoaded', function() {
    const errorId = 'ERR-' + Date.now().toString(36).toUpperCase();
    const errorTime = new Date().toLocaleString();
    
    document.getElementById('error-id').textContent = errorId;
    document.getElementById('error-time').textContent = errorTime;
});
</script>
{% endblock %}